<!-- مرحله 2 - نسخه اولیه، آماده برای تکمیل با انیمیشن ها و منطق کامل -->
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>مرحله ۲ - نبرد عناصر: چندمجموعه‌ای</title>
<style>
    body {
        font-family: "Vazirmatn", sans-serif;
        background: #0b0f1a;
        color: white;
        text-align: center;
        user-select: none;
    }

    h1 {
        margin-top: 20px;
        font-size: 34px;
        text-shadow: 0 0 15px #3affff;
    }

    .instruction {
        margin-top: 10px;
        font-size: 20px;
        opacity: 0.9;
    }

    .container {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin-top: 40px;
    }

    .set-box {
        width: 250px;
        height: 260px;
        border: 3px solid #3affff;
        border-radius: 18px;
        position: relative;
        box-shadow: 0 0 20px #3affff55;
        padding-top: 50px;
        transition: 0.3s;
    }

    .set-box:hover {
        transform: scale(1.06);
        box-shadow: 0 0 30px #00f6ff;
    }

    .set-title {
        position: absolute;
        top: 10px;
        width: 100%;
        font-size: 22px;
        font-weight: bold;
    }

    .set-content {
        margin-top: 30px;
        font-size: 22px;
    }

    .cards {
        margin-top: 40px;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 12px;
    }

    .card {
        width: 55px;
        height: 70px;
        background: #222;
        border: 2px solid #6aff6a;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 26px;
        cursor: grab;
        transition: 0.15s;
    }

    .card:active {
        cursor: grabbing;
        transform: scale(1.15);
    }
</style>
</head>
<body>

<h1>مرحله ۲: نبرد عناصر چندگانه</h1>
<div class="instruction">هر کارت را بکش و در مجموعه مناسب رها کن</div>

<div class="container">
    <div class="set-box" id="setA" ondrop="drop(event)" ondragover="allowDrop(event)">
        <div class="set-title">A = { <span id="a-list"></span> }</div>
        <div class="set-content">اعداد فرد</div>
    </div>

    <div class="set-box" id="setB" ondrop="drop(event)" ondragover="allowDrop(event)">
        <div class="set-title">B = { <span id="b-list"></span> }</div>
        <div class="set-content">کمتر از ۴</div>
    </div>

    <div class="set-box" id="setC" ondrop="drop(event)" ondragover="allowDrop(event)">
        <div class="set-title">C = { <span id="c-list"></span> }</div>
        <div class="set-content">اعداد زوج</div>
    </div>
</div>

<div class="cards" id="cardArea">
    <div class="card" draggable="true" id="c1" ondragstart="drag(event)">1</div>
    <div class="card" draggable="true" id="c2" ondragstart="drag(event)">2</div>
    <div class="card" draggable="true" id="c3" ondragstart="drag(event)">3</div>
    <div class="card" draggable="true" id="c4" ondragstart="drag(event)">4</div>
    <div class="card" draggable="true" id="c5" ondragstart="drag(event)">5</div>
    <div class="card" draggable="true" id="c6" ondragstart="drag(event)">6</div>
    <div class="card" draggable="true" id="c7" ondragstart="drag(event)">1</div>
    <div class="card" draggable="true" id="c8" ondragstart="drag(event)">2</div>
</div>

<script>
function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev) {
    ev.dataTransfer.setData("card", ev.target.id);
}

function drop(ev) {
    ev.preventDefault();
    let cardId = ev.dataTransfer.getData("card");
    let card = document.getElementById(cardId);

    // اگر کارت از دست افتاد، برگردد به سینی
    if (!ev.target.classList.contains("set-box")) {
        document.getElementById("cardArea").appendChild(card);
        return;
    }

    ev.target.appendChild(card);
    updateSets();
}

function updateSets() {
    let sets = {
        A: [],
        B: [],
        C: []
    };

    document.querySelectorAll('#setA .card').forEach(c => sets.A.push(c.innerText));
    document.querySelectorAll('#setB .card').forEach(c => sets.B.push(c.innerText));
    document.querySelectorAll('#setC .card').forEach(c => sets.C.push(c.innerText));

    document.getElementById("a-list").innerText = sets.A.join(" , ");
    document.getElementById("b-list").innerText = sets.B.join(" , ");
    document.getElementById("c-list").innerText = sets.C.join(" , ");
}
</script>

</body>
</html>