<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>نبرد عناصر - مرحله ۱</title>

<style>
    body {
        font-family: 'Vazirmatn', sans-serif;
        background: #0d1117;
        color: #fff;
        text-align: center;
        padding: 30px;
        user-select: none;
    }

    h1 {
        font-size: 40px;
        margin-bottom: 10px;
        color: #ffdd55;
        text-shadow: 0 0 20px #ffbb00;
    }

    #instruction {
        font-size: 22px;
        margin-bottom: 25px;
        color: #6db9ff;
    }

    #game {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 30px;
    }

    .set-box, #tray {
        width: 230px;
        min-height: 300px;
        background: #161b22;
        padding: 15px;
        border-radius: 20px;
        border: 2px solid #30363d;
        box-shadow: 0 0 10px #000;
    }

    .set-title {
        font-size: 22px;
        margin-bottom: 10px;
        color: #ffa657;
    }

    #tray {
        border: 2px dashed #444;
    }

    .card {
        width: 80%;
        margin: 10px auto;
        padding: 12px;
        background: #21262d;
        border-radius: 15px;
        cursor: grab;
        border: 2px solid #2d333b;
        transition: 0.2s;
        font-size: 20px;
    }

    #message-box {
        margin-top: 25px;
        padding: 15px;
        min-height: 40px;
        font-size: 20px;
    }
</style>
</head>

<body>

<h1>نبرد عناصر - مرحله ۱</h1>

<!-- تنها متن راهنما که باید بماند -->
<div id="instruction">کارت را بکش و روی مجموعه مناسب رها کن.</div>

<div id="game">
    <div id="tray" ondrop="drop(event, 'tray')" ondragover="allowDrop(event)">
        <div class="set-title">سینی کارت‌ها</div>
    </div>

    <div class="set-box" ondrop="drop(event, 'A')" ondragover="allowDrop(event)">
        <div class="set-title">A = { فرد }</div>
    </div>

    <div class="set-box" ondrop="drop(event, 'B')" ondragover="allowDrop(event)">
        <div class="set-title">B = { زوج }</div>
    </div>
</div>

<div id="message-box"></div>

<script>
const correctSets = {
    "۱": "A", "۳": "A", "۵": "A", "۷": "A", "۹": "A",
    "۲": "B", "۴": "B", "۶": "B", "۸": "B"
};

function allowDrop(e) {
    e.preventDefault();
}

function drag(e) {
    e.dataTransfer.setData("text", e.target.id);
}

function drop(e, targetSet) {
    e.preventDefault();
    let id = e.dataTransfer.getData("text");
    let card = document.getElementById(id);
    let value = card.innerText.trim();

    // اگر به سینی برگشت → هیچ پیامی نمایش نده
    if (targetSet === "tray") {
        document.getElementById("tray").appendChild(card);
        setMessage("");  
        return;
    }

    // اگر درست بود
    if (correctSets[value] === targetSet) {
        e.target.appendChild(card);
        setMessage("آفرین! " + value + " در مجموعه درست قرار گرفت.");
    } 
    else {
        // اشتباه → فقط برگردد
        document.getElementById("tray").appendChild(card);
        setMessage("اشتباه! این کارت عضو این مجموعه نیست.");
    }
}

function setMessage(text) {
    document.getElementById("message-box").innerHTML = text;
}

window.onload = () => {
    let tray = document.getElementById("tray");
    let nums = ["۱","۲","۳","۴","۵","۶","۷","۸","۹"];
    nums.forEach((n,i)=>{
        let c = document.createElement("div");
        c.className = "card";
        c.id = "card" + i;
        c.draggable = true;
        c.ondragstart = drag;
        c.innerText = n;
        tray.appendChild(c);
    });
};
</script>

</body>
</html>
