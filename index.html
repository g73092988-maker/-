<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>Ù…Ø±Ø­Ù„Ù‡ Û± - Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ù…Ø¬Ù…ÙˆØ¹Ù‡</title>
<style>
 body {
   font-family: "Vazirmatn", sans-serif;
   background: linear-gradient(180deg,#0b0f14,#0e141b,#0b0f14);
   color: #e6edf3;
   margin: 0;
   padding: 0;
   text-align:center;
 }
 h1 { margin-top: 25px; }

 /* Ú©Ø§Ø±Øª Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø±Ø¯Ø§Ø´ØªÙ‡ Ø´Ø¯Ù† Ù…Ø­Ùˆ Ø´ÙˆØ¯ */
 .card.fadeOut { opacity:0; transform: translateY(-10px); transition:0.4s ease; }

 .cards { display:flex; gap:15px; flex-wrap:wrap; justify-content:center; margin-top:30px; }
 .card {
   background: rgba(255,255,255,0.12);
   border:1px solid rgba(255,255,255,0.18);
   padding:18px 28px;
   font-size:22px;
   border-radius:40px;
   cursor:grab;
   transition:0.25s;
   box-shadow:0 4px 12px rgba(0,0,0,0.4);
 }
 .card:hover { transform:scale(1.1); }

 .sets-container { display:flex; gap:18px; justify-content:center; margin-top:20px; }
 .set-box {
   background:rgba(255,255,255,0.07);
   padding:20px;
   border-radius:18px;
   min-width:180px;
   border:1px solid rgba(255,255,255,0.2);
 }
 .set-box.glow-success { box-shadow:0 0 20px #2ecc71; transition:0.4s; }

 #message { margin-top:25px; font-size:22px; min-height:28px; }

 /* Ù¾Ù†Ø¬Ø±Ù‡ Ù…Ø±Ø­Ù„Ù‡ Û² Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ */
 #nextStageBox {
   position:fixed;
   bottom:0; left:0; right:0;
   background:rgba(255,255,255,0.08);
   padding:25px;
   border-top:1px solid rgba(255,255,255,0.2);
   backdrop-filter:blur(5px);
   display:none;
 }
 .choice-btn { padding:12px 25px; margin:5px; border-radius:12px; background:rgba(255,255,255,0.15); border:1px solid rgba(255,255,255,0.25); cursor:pointer; }
 .choice-btn:hover { background:rgba(255,255,255,0.25); }

 /* Ù¾ÛŒØ§Ù… Ø´Ø±ÙˆØ¹ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ */
 #startScreen {
   position:fixed;
   inset:0;
   background:rgba(0,0,0,0.65);
   display:none;
   align-items:center;
   justify-content:center;
   font-size:60px;
   backdrop-filter:blur(4px);
 }
</style>
</head>
<body>
<h1>Ù…Ø±Ø­Ù„Ù‡ Û± â€” Ø¢Ø²Ù…Ø§ÛŒØ´ Ø¹Ø¶ÙˆÛŒØª</h1>

<div class="sets-container">
  <div class="set-box" data-set="A">A = { 1 , 3 , 5 }</div>
  <div class="set-box" data-set="B">B = { 3 , 4 , 5 }</div>
  <div class="set-box" data-set="C">C = { 2 , 5 , 6 }</div>
</div>

<div class="cards">
  <div class="card" draggable="true" data-value="2">Û²</div>
  <div class="card" draggable="true" data-value="5">Ûµ</div>
  <div class="card" draggable="true" data-value="1">Û±</div>
  <div class="card" draggable="true" data-value="3">Û³</div>
  <div class="card" draggable="true" data-value="4">Û´</div>
  <div class="card" draggable="true" data-value="6">Û¶</div>
  <div class="card" draggable="true" data-value="3">Û³</div>
  <div class="card" draggable="true" data-value="5">Ûµ</div>
</div>

<div id="message"></div>

<div id="nextStageBox">
  <h2>ğŸ‰ Ù…Ø±Ø­Ù„Ù‡ Û± Ú©Ø§Ù…Ù„ Ø´Ø¯! Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ§ÛŒØŸ</h2>
  <button class="choice-btn" onclick="goNext(true)">Ø¨Ù„Ù‡ âœ”</button>
  <button class="choice-btn" onclick="goNext(false)">Ø®ÛŒØ± âœ–</button>
</div>

<div id="startScreen">Ø¨Ø²Ù† Ø¨Ø±ÛŒÙ…! ğŸš€</div>

<script>
const sets={A:[1,3,5],B:[3,4,5],C:[2,5,6]};
let total=0;

const cards=document.querySelectorAll('.card');
cards.forEach(c=>{
  c.addEventListener('dragstart',e=>{
    e.target.classList.add("fadeOut");
    setTimeout(()=>e.target.style.visibility="hidden",300);
    e.dataTransfer.setData("value",e.target.dataset.value);
  });
});

const boxes=document.querySelectorAll('.set-box');
boxes.forEach(b=>{
  b.addEventListener('dragover',e=>e.preventDefault());
  b.addEventListener('drop',e=>{
    e.preventDefault();
    dropToBox(parseInt(e.dataTransfer.getData("value")),b);
  });
});

function dropToBox(value,box){
  const placed=document.createElement("div");
  placed.textContent=value;
  placed.className="card";
  placed.style.marginTop="10px";
  placed.style.opacity="0";
  box.appendChild(placed);
  setTimeout(()=>placed.style.opacity="1",50);

  check(value,box);
  total++;
  if(total===8) document.getElementById("nextStageBox").style.display="block";
}

function check(value,box){
  const s=box.dataset.set;
  if(sets[s].includes(value)){
    message.textContent=`${value} âˆˆ ${s} â€” Ø¹Ø§Ù„ÛŒ! Ø¹Ø¶Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ø³Øª âœ¨`;
    box.classList.add('glow-success');
    setTimeout(()=>box.classList.remove('glow-success'),500);
  } else {
    message.textContent=`${value} âˆ‰ ${s} â€” Ø¹Ø¶Ùˆ Ø§ÛŒÙ† Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù†ÛŒØ³Øª âŒ`;
  }
}

function goNext(yes){
  if(yes){
    document.getElementById("startScreen").style.display="flex";
    setTimeout(()=>{ document.getElementById("startScreen").style.opacity="0"; },1200);
  } else {
    const again=confirm("Ù…ÛŒØ®ÙˆØ§ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØŸ");
    if(again) location.reload();
  }
}
</script>
</body>
</html>
